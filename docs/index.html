<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Sandra Notaro" />


<title>Environmental Justice Mapping</title>

<script src="site_libs/jquery-1.12.4/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/journal.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script src="site_libs/htmlwidgets-1.5.2/htmlwidgets.js"></script>
<link href="site_libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-1.3.1/leaflet.js"></script>
<link href="site_libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="site_libs/Proj4Leaflet-1.0.1/proj4-compressed.js"></script>
<script src="site_libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="site_libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="site_libs/leaflet-binding-2.0.3/leaflet.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="bootstrap.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 61px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h2 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h3 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h4 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h5 {
  padding-top: 66px;
  margin-top: -66px;
}
.section h6 {
  padding-top: 66px;
  margin-top: -66px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Environmental Justice Mapping</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Environmental Justice Mapping</h1>
<h3 class="subtitle">Subtitle here if desired - change later</h3>
<h4 class="author">Sandra Notaro</h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Environmental justice mapping can be easily done with the EPA’s EJSCREEN tool (<a href="https://ejscreen.epa.gov/mapper/" class="uri">https://ejscreen.epa.gov/mapper/</a>). This mapping tool provides a great introduction to analyzing and comparing environmental justice issues, but if this were implemented in an upperclassmen college lab, this would not suffice for a three hour lab. Not only is mapping a useful skill, but understanding how to map in RStudio is very beneficial. The overall goal is to develop a step-by-step lab for students to create environmental justice maps in RStudio that are similar to EJSCREEN. The end product the maps will thus be presented in this project.</p>
<p>Low-income and race are key indicators to observe when analyzing environmental justice. In the context of Western New York, how have these marginalized communities been impacted unequally compared to higher-income and white neighborhoods? How can students observe the hazardous environmental impacts marginalized communities face? Exploration and comparison of environmental injustice will help students understand the core inequalities issues in Western New York. Therefore, I hypothesize that the lower-income and black neighborhoods will live closer to sites that have been or are in the process of being remediated. Despite the fact that some sites will be remediated already, this is still an indicator that the site was once contaminated, so it historically shows contamination marginalized communities have lived near.</p>
</div>
<div id="materials-and-methods" class="section level1">
<h1>Materials and methods</h1>
<p>Accessing Census Data</p>
<pre class="r"><code>library(tidycensus)
library(tidyverse)
loadacs5 &lt;- load_variables(2018, &quot;acs5&quot;, cache = TRUE)
api_key &lt;- census_api_key(&quot;41d82fe746ff3e071dc59dfe43267b617e210820&quot;, overwrite = TRUE, install = TRUE)</code></pre>
<pre><code>## Your original .Renviron will be backed up and stored in your R HOME directory if needed.</code></pre>
<pre><code>## Your API key has been stored in your .Renviron and can be accessed by Sys.getenv(&quot;CENSUS_API_KEY&quot;). 
## To use now, restart R or run `readRenviron(&quot;~/.Renviron&quot;)`</code></pre>
<pre class="r"><code>tract_income &lt;- get_acs(geography = &quot;tract&quot;, variables = &quot;B25121_001&quot;, state = &quot;NY&quot;, county = c(&quot;Erie&quot;, &quot;Niagara&quot;, &quot;Cattaraugus&quot;, year = 2018))</code></pre>
<pre><code>## Getting data from the 2014-2018 5-year ACS</code></pre>
<pre class="r"><code>head(tract_income)
knitr::kable(tract_income, &quot;simple&quot;)</code></pre>
<div id="download-and-clean-all-required-data" class="section level2">
<h2>Download and clean all required data</h2>
<pre class="r"><code>n=20
data=data.frame(x=runif(n,-180,180),
                y=runif(n,-60,60),
                size = runif(n, 5, 20),
                category = factor(
                  sample(letters[1:5], n, replace = TRUE)
                  ),
                value = rnorm(n))</code></pre>
<pre class="r"><code>data %&gt;% 
  slice(1:10) %&gt;% #show only 1:n rows
  kable(digits=2,align=&quot;c&quot;)%&gt;% #make table and round to two digits
  kable_styling(bootstrap_options = 
                  c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;, &quot;responsive&quot;)) #apply other formatting</code></pre>
<table class="table table-striped table-hover table-condensed table-responsive" style="margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;">
x
</th>
<th style="text-align:center;">
y
</th>
<th style="text-align:center;">
size
</th>
<th style="text-align:center;">
category
</th>
<th style="text-align:center;">
value
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;">
-105.53
</td>
<td style="text-align:center;">
-9.61
</td>
<td style="text-align:center;">
14.59
</td>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
0.03
</td>
</tr>
<tr>
<td style="text-align:center;">
-75.16
</td>
<td style="text-align:center;">
-23.60
</td>
<td style="text-align:center;">
6.67
</td>
<td style="text-align:center;">
d
</td>
<td style="text-align:center;">
-1.22
</td>
</tr>
<tr>
<td style="text-align:center;">
-91.73
</td>
<td style="text-align:center;">
5.68
</td>
<td style="text-align:center;">
11.65
</td>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
-0.16
</td>
</tr>
<tr>
<td style="text-align:center;">
153.41
</td>
<td style="text-align:center;">
-25.10
</td>
<td style="text-align:center;">
14.23
</td>
<td style="text-align:center;">
d
</td>
<td style="text-align:center;">
0.17
</td>
</tr>
<tr>
<td style="text-align:center;">
157.74
</td>
<td style="text-align:center;">
53.53
</td>
<td style="text-align:center;">
5.14
</td>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
0.43
</td>
</tr>
<tr>
<td style="text-align:center;">
56.69
</td>
<td style="text-align:center;">
-44.91
</td>
<td style="text-align:center;">
5.75
</td>
<td style="text-align:center;">
e
</td>
<td style="text-align:center;">
0.08
</td>
</tr>
<tr>
<td style="text-align:center;">
-13.11
</td>
<td style="text-align:center;">
4.43
</td>
<td style="text-align:center;">
11.47
</td>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
1.36
</td>
</tr>
<tr>
<td style="text-align:center;">
-120.15
</td>
<td style="text-align:center;">
-59.03
</td>
<td style="text-align:center;">
11.14
</td>
<td style="text-align:center;">
a
</td>
<td style="text-align:center;">
0.46
</td>
</tr>
<tr>
<td style="text-align:center;">
-148.67
</td>
<td style="text-align:center;">
48.85
</td>
<td style="text-align:center;">
14.68
</td>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
0.81
</td>
</tr>
<tr>
<td style="text-align:center;">
-92.26
</td>
<td style="text-align:center;">
-58.81
</td>
<td style="text-align:center;">
5.73
</td>
<td style="text-align:center;">
b
</td>
<td style="text-align:center;">
0.33
</td>
</tr>
</tbody>
</table>
<p>Add any additional processing steps here.</p>
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>[~200 words]</p>
<p>Tables and figures (maps and other graphics) are carefully planned to convey the results of your analysis. Intense exploration and evidence of many trials and failures. The author looked at the data in many different ways before coming to the final presentation of the data.</p>
<p>Show tables, plots, etc. and describe them.</p>
<pre class="r"><code>m &lt;- leaflet(data) %&gt;% 
  addTiles() %&gt;% 
  addCircleMarkers(~x, ~y, radius = ~size,color = ~as.factor(category)) %&gt;% 
  addPopups(~x[2], ~y[2], &quot;Random popup&quot;)
m  # a map with the default OSM tile layer</code></pre>
<div class="figure">
<div id="htmlwidget-60293b8e36ec6155df83" style="width:576px;height:288px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-60293b8e36ec6155df83">{"x":{"options":{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}}},"calls":[{"method":"addTiles","args":["//{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",null,null,{"minZoom":0,"maxZoom":18,"tileSize":256,"subdomains":"abc","errorTileUrl":"","tms":false,"noWrap":false,"zoomOffset":0,"zoomReverse":false,"opacity":1,"zIndex":1,"detectRetina":false,"attribution":"&copy; <a href=\"http://openstreetmap.org\">OpenStreetMap<\/a> contributors, <a href=\"http://creativecommons.org/licenses/by-sa/2.0/\">CC-BY-SA<\/a>"}]},{"method":"addCircleMarkers","args":[[-9.61350398138165,-23.5953464917839,5.68085401318967,-25.0957541540265,53.5301415715367,-44.9145863950253,4.4260371197015,-59.0259866416454,48.8495878502727,-58.8068978022784,-43.4660911560059,45.9621626883745,8.81444139406085,36.5702006779611,-21.670282445848,9.20313318260014,21.4173140376806,-0.249332897365093,2.1646586805582,-42.8215773124248],[-105.530034787953,-75.1559635531157,-91.7254104930907,153.413209151477,157.73795007728,56.6897951904684,-13.1057476624846,-120.146281281486,-148.665791982785,-92.2636134177446,-7.9314779676497,-33.5380728822201,-113.956747110933,155.48016292043,13.0939489603043,12.4288473743945,-160.222628563643,-90.4639032203704,-120.14603946358,170.401445394382],[14.5919365936425,6.66630033054389,11.6489965643268,14.2342478863429,5.13975098612718,5.7461435359437,11.4690969046205,11.1398728366476,14.6794615651015,5.72577826329507,15.4935834987555,15.4760452220216,13.4282881417312,8.49423899664544,17.8211290272884,15.4894543217961,10.5113761534449,10.6308925407939,11.3817862758879,6.42525103758089],null,null,{"interactive":true,"className":"","stroke":true,"color":["b","d","b","d","b","e","b","a","b","b","a","c","c","c","b","c","c","e","d","a"],"weight":5,"opacity":0.5,"fill":true,"fillColor":["b","d","b","d","b","e","b","a","b","b","a","c","c","c","b","c","c","e","d","a"],"fillOpacity":0.2},null,null,null,null,null,{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPopups","args":[-23.5953464917839,-75.1559635531157,"Random popup",null,null,{"maxWidth":300,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"className":""}]}],"limits":{"lat":[-59.0259866416454,53.5301415715367],"lng":[-160.222628563643,170.401445394382]}},"evals":[],"jsHooks":[]}</script>
<p class="caption">
Map of completely random data
</p>
</div>
<pre class="r"><code>data %&gt;% 
  ggplot(aes(x=x,y=y,col=category))+
  geom_point()</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>[~200 words]</p>
<p>Clear summary adequately describing the results and putting them in context. Discussion of further questions and ways to continue investigation.</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>All sources are cited in a consistent manner</p>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="https://wilsonlab.io/GEO511"><i> Spatial Data Science (GEO511) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
